# JDK, JRE, Maven, Gradle, Jar, War

### 컴파일, 빌드, 배포 이해하기

```
1. 컴파일: 사용자가 작성한 코드를 컴퓨터가 이해할 수 있는 언어로 번역하는 일

2. 빌드(패키징): 컴파일된 코드를 실제 실행할 수 있는 상태로 만드는 일

3. 배포: 빌드가 완성된 실행 가능한 파일을 사용자가 접근할 수 있는 환경에 배치시키는 일

4. 혹은 컴파일을 포함해 war, jar 등의 실행 가능한 파일을 뽑아내기까지의 과정을 빌드한다고도 함.
```



### JDK, JRE

![JRE와 JDK](https://blog.kakaocdn.net/dn/r2DDK/btruQk9O856/OYjuIRTtKY1hOdTMYw2e7k/img.png)

- JDK : Java Development Kit  - 프로그램을 실행하는 자바 플랫폼 구성 요소
- JRE : Java Runtime Environment - 프로그램 코드 실행을 위한 도구 패키지



![JDK, JRE 내부구성](https://blog.kakaocdn.net/dn/dYZ5zo/btruAiSxZGI/u1gxIOHNtkVV9KtNVl3knk/img.png)

즉, JRE보다 JDK가 더 넓은 개념이며 JDK에는 JRE가 필요하다.

JDK에는 자바 컴파일러가 포함되어 있다. 



### JDK를 시작하기

- Java 버전을 선택한다. (Java8)

- Java 패키지를 선택한다.

  - (Java EE) EE는 HTTP요청 처리를 지원하는 Java Sublet이 포함되어 있다.

  

### 자바 컴파일러 javac

자바 컴파일러는 원시 텍스트 `.java` 파일을 가져와 실행가능한` .class`파일로 렌더링한다.



### JDK 구성요소

> 사용자 디렉터리 구성요소

- **bin : 자바 개발, 실행에 필요한 도구와 유틸리티 명령**
- conf : 여러 종류의 패치 파일
- include : 네이티브 코드 프로그래밍에 필요하는 C언어 헤더 파일
- jmods : 컴파일된 모듈 파일들
- legal : 각 모듈에 대한 저작권과 라이선스 파일
- **lib : 실행 시간에 필요한 라이브러리 클래스들**



> /bin 디렉토리 주요 소프트웨어

- **javac : 자바 컴파일러로 자바 소스를 바이트 코드로 변환**

```
C:\Program Files\Java\jdk-10.0.1\bin\javac.exe
```

- java : 자바 프로그램 실행기 → 자바 가상 기계를 작동시켜 자바 프로그램 실행
- javadoc : 자바 소스로부터 HTML 형식의 API 도큐먼트 생성
- **jar : 자바 클래스 파일을 압축한 자바 아카이브 파일(.jar) 생성, 관리**

```
C:\Program Files\Java\jdk-10.0.1\bin\jar.exe
```



### 그래서...?

```
.java => JDK javac로 컴파일 => .class => 아카이브 파일 생성(빌드/패키징) => .jar
```



---

### 아카이브(압축) 패키징 파일 Jar vs. War



### Jar - Java Archive 

- 여러 개의 자바 클래스 파일과 관련 리소스, 메타데이터를 하나의 파일로 모아 자바 플랫폼에 배포하기 위한 소프트웨어 패키지 파일 포맷
- JDK에서 바로 접근 가능
- **JRE만 존재하면 프로젝트 구동이 가능**

### War - Web Application Archive

- 웹 어플리케이션이 구동되기 위한 자원을 모아 배포하기 위한 포맷
- 배포 서술자라 불리는 `web.xml` 파일을 통해 path 설정을 따로 해주어야 한다.
- **별도의 웹서버 또는 WAS 가 있어야 프로젝트 구동이 가능 - 외부 WAS 사용시 WAR 사용**



### 결론?

jar 파일로 구성 후 war 포맷으로 묶어 Tomcat 등으로 배포



---

### 빌드 관리 도구(빌드 자동화 시스템) Maven vs Gradle

>  빌드 관리 도구란?

.java 코드와 프로젝트에 필요한 각종 파일들을 JVM, WAS가 인식할 수 있게 패키징 == 빌드

빌드 도구 설정파일에 필요한 라이브러리 종류와 버전, 종속 정보를 명시해 관리한다.

**전처리, 컴파일, 패키징, 테스팅, 배포, 라이브러리 관리도 한다.**

- 빌드 중인 프로젝트
- 빌드 순서
- 외부 라이브러리 종속성 관계



### Maven

- Maven : 자바용 프로젝트 관리 도구로 빌드 중인 프로젝트, 빌드순서, 외부 라이브러리 종속성관계를 pom.xml 파일에 명시한다. xml(Extensive Markup Language) 사용



### 메이븐 단계

포괄적인 목록은 아니지만 실행되는 가장 일반적인 *기본* 수명 주기 단계입니다.

- **validate** : 프로젝트가 올바르고 필요한 모든 정보가 사용 가능한지 확인합니다.
- **compile** : 프로젝트의 소스 코드를 컴파일
- **test** : 적절한 단위 테스트 프레임워크를 사용하여 컴파일된 소스 코드를 테스트합니다. 이 테스트는 코드를 패키징하거나 배포할 필요가 없습니다.
- **package** : 컴파일된 코드를 가져와서 JAR과 같은 배포 가능한 형식으로 패키징합니다.
- **Integration-test** : 필요한 경우 통합 테스트를 실행할 수 있는 환경으로 패키지를 처리하고 배포합니다.
- **확인** : 모든 검사를 실행하여 패키지가 유효하고 품질 기준을 충족하는지 확인합니다.
- **install** : 다른 프로젝트에서 로컬로 종속성으로 사용하기 위해 패키지를 로컬 저장소에 설치합니다.
- **배포** : 통통합 또는 릴리스 환경에서 수행되며 다른 개발자 및 프로젝트와 공유하기 위해 원격 저장소에 최종 패키지를 복사합니다.
- **clean** : 이전 빌드에서 생성된 아티팩트를 정리합니다.
- **site** : 이 프로젝트에 대한 사이트 문서를 생성합니다.



### Gradle

- Gradle : groovy 언어를 사용해 적은 양의 스크립트로 짧고 간결. 설정 주입 방식으로 빠르다.
